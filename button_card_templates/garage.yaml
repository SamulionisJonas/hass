garage_door:
    device_class: garage
    friendly_name: 'Garage Door'
    value_template: >-
        {% if is_state('binary_sensor.shelly_garage_door_external_input','on') %}
          Open
        {% else %}
          Closed
        {% endif %}
    open_cover:
        service: >-
            {% if is_state('binary_sensor.shelly_garage_door_external_input','on') %}switch.turn_off{%else%}switch.turn_on{%endif%}
        data:
            entity_id: switch.home_garage
    close_cover:
        service: >-
            {% if is_state('binary_sensor.shelly_garage_door_external_input','on') %}switch.turn_on{%else%}switch.turn_off{%endif%}
        data:
            entity_id: switch.home_garage
    stop_cover:
        service: switch.turn_on
        data:
            entity_id: switch.home_garage
    icon_template: >-
        {% if is_state('binary_sensor.shelly_garage_door_external_input','on') %}
          mdi:garage-open
        {% else %}
          mdi:garage
        {% endif %}
outdoor_gates:
    device_class: garage
    friendly_name: 'Outdoor gates'
    value_template: >-
        {% if is_state('binary_sensor.shellyplus1_7c87ce63c130_input','on') %}
          Open
        {% else %}
          Closed
        {% endif %}
    open_cover:
        service: >-
            {% if is_state('binary_sensor.shellyplus1_7c87ce63c130_input','on') %}switch.turn_off{%else%}switch.turn_on{%endif%}
        data:
            entity_id: switch.outdoor_gates
    close_cover:
        service: >-
            {% if is_state('binary_sensor.shellyplus1_7c87ce63c130_input','on') %}switch.turn_on{%else%}switch.turn_off{%endif%}
        data:
            entity_id: switch.outdoor_gates
    stop_cover:
        service: switch.turn_on
        data:
            entity_id: switch.outdoor_gates
    icon_template: >-
        {% if is_state('binary_sensor.shellyplus1_7c87ce63c130_input','on') %}
          mdi:garage-open
        {% else %}
          mdi:garage
        {% endif %}
